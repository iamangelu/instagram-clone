(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{32:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII="},44:function(e,a,t){e.exports=t(67)},49:function(e,a,t){},60:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(13),c=t.n(r),l=(t(49),t(10)),s=t(18),i=t.n(s),I=i.a.initializeApp({apiKey:"AIzaSyDJRz5wpvxh3FxNy6JcREYXc0fA-B_Fwxs",authDomain:"instagram-clone-ba01f.firebaseapp.com",databaseURL:"https://instagram-clone-ba01f.firebaseio.com",projectId:"instagram-clone-ba01f",storageBucket:"instagram-clone-ba01f.appspot.com",messagingSenderId:"14544547032",appId:"1:14544547032:web:bf1107e3debe2857ecfbad",measurementId:"G-5JL4L36V7L"}).firestore(),u=i.a.auth(),m=i.a.storage(),E=(t(60),t(93));var p=function(e){var a=e.postId,t=e.user,r=e.username,c=e.caption,s=e.imageUrl,u=Object(n.useState)([]),m=Object(l.a)(u,2),p=m[0],C=m[1],k=Object(n.useState)(""),d=Object(l.a)(k,2),A=d[0],y=d[1];return Object(n.useEffect)((function(){var e;return a&&(e=I.collection("posts").doc(a).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){C(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[a]),o.a.createElement("div",{className:"post"},o.a.createElement("div",{className:"post__header"},o.a.createElement(E.a,{className:"post__avatar",alt:"Angel",src:"/static/images/avatar/1.jpg"}),o.a.createElement("h3",null,r)),o.a.createElement("img",{className:"post__image",src:s}),o.a.createElement("h4",{className:"post__text"},o.a.createElement("strong",null,r,": ")," ",c),o.a.createElement("div",{className:"post__comments"},p.map((function(e){return o.a.createElement("p",null,o.a.createElement("strong",null,e.username)," ",e.text)}))),t&&o.a.createElement("form",{className:"post__commentBox"},o.a.createElement("input",{className:"post__input",type:"text",placeholder:"Add a comment...",value:A,onChange:function(e){return y(e.target.value)}}),o.a.createElement("button",{className:"post__button",disabled:!A,type:"submit",onClick:function(e){e.preventDefault(),I.collection("posts").doc(a).collection("comments").add({text:A,username:t.displayName,timestamp:i.a.firestore.FieldValue.serverTimestamp()}),y("")}},"Post")))},C=(t(65),t(32)),k=t.n(C),d=t(89),A=t(92),y=t(91),g=t(90);t(66);var f=function(e){var a=e.username,t=Object(n.useState)(""),r=Object(l.a)(t,2),c=r[0],s=r[1],u=Object(n.useState)(0),E=Object(l.a)(u,2),p=E[0],C=E[1],k=Object(n.useState)(null),d=Object(l.a)(k,2),A=d[0],g=d[1];return o.a.createElement("div",{className:"imageupload"},o.a.createElement("progress",{className:"imageupload__progress",value:p,max:"100"}),o.a.createElement("input",{type:"text",placeholder:"Enter a caption...",onChange:function(e){return s(e.target.value)},value:c}),o.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&g(e.target.files[0])}}),o.a.createElement(y.a,{onClick:function(){m.ref("images/".concat(A.name)).put(A).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);C(a)}),(function(e){console.log(e)}),(function(){m.ref("images").child(A.name).getDownloadURL().then((function(e){I.collection("posts").add({timestamp:i.a.firestore.FieldValue.serverTimestamp(),caption:c,imageUrl:e,username:a}),C(0),s(""),g(null)}))}))}},"Upload"))};function j(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var H=Object(d.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var b=function(){var e=H(),a=Object(n.useState)(j),t=Object(l.a)(a,1)[0],r=Object(n.useState)([]),c=Object(l.a)(r,2),s=c[0],i=c[1],m=Object(n.useState)(!1),E=Object(l.a)(m,2),C=E[0],d=E[1],b=Object(n.useState)(!1),S=Object(l.a)(b,2),h=S[0],v=S[1],N=Object(n.useState)(""),O=Object(l.a)(N,2),w=O[0],J=O[1],x=Object(n.useState)(""),B=Object(l.a)(x,2),U=B[0],D=B[1],M=Object(n.useState)(""),V=Object(l.a)(M,2),Q=V[0],K=V[1],z=Object(n.useState)(null),L=Object(l.a)(z,2),G=L[0],T=L[1];return Object(n.useEffect)((function(){var e=u.onAuthStateChanged((function(e){T(e||null)}));return function(){e()}}),[G,w]),Object(n.useEffect)((function(){I.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),o.a.createElement("div",{className:"app"},o.a.createElement(g.a,{open:C,onClose:function(){return d(!1)}},o.a.createElement("div",{style:t,className:e.paper},o.a.createElement("form",{className:"app__signup"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:k.a,alt:""})),o.a.createElement(A.a,{placeholder:"username",type:"text",value:w,onChange:function(e){return J(e.target.value)}}),o.a.createElement(A.a,{placeholder:"email",type:"text",value:Q,onChange:function(e){return K(e.target.value)}}),o.a.createElement(A.a,{placeholder:"password",type:"password",value:U,onChange:function(e){return D(e.target.value)}}),o.a.createElement(y.a,{type:"submit",onClick:function(e){e.preventDefault(),u.createUserWithEmailAndPassword(Q,U).then((function(e){return e.user.updateProfile({displayName:w})})).catch((function(e){return alert(e.message)})),d(!1)}},"Sign Up")))),o.a.createElement(g.a,{open:h,onClose:function(){return v(!1)}},o.a.createElement("div",{style:t,className:e.paper},o.a.createElement("form",{className:"app__signup"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:k.a,alt:""})),o.a.createElement(A.a,{placeholder:"email",type:"text",value:Q,onChange:function(e){return K(e.target.value)}}),o.a.createElement(A.a,{placeholder:"password",type:"password",value:U,onChange:function(e){return D(e.target.value)}}),o.a.createElement(y.a,{type:"submit",onClick:function(e){e.preventDefault(),u.signInWithEmailAndPassword(Q,U).catch((function(e){return alert(e.message)})),v(!1)}},"Sign In")))),o.a.createElement("div",{className:"app__header"},o.a.createElement("img",{className:"app__headerImage",src:k.a,alt:"logo"}),G?o.a.createElement(y.a,{onClick:function(){return u.signOut()}},"Logout"):o.a.createElement("div",{className:"app__loginContainer"},o.a.createElement(y.a,{onClick:function(){return v(!0)}},"Sign In"),o.a.createElement(y.a,{onClick:function(){return d(!0)}},"Sign Up"))),o.a.createElement("div",{className:"app__post"},s.map((function(e){var a=e.id,t=e.post;return o.a.createElement(p,{key:a,postId:a,user:G,username:t.username,caption:t.caption,imageUrl:t.imageUrl})}))),(null===G||void 0===G?void 0:G.displayName)?o.a.createElement(f,{username:G.displayName}):o.a.createElement("h3",null,"Sorry you need to login to upload."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.baf82c31.chunk.js.map